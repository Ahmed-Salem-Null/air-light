// Core/heading block
.editor-styles-wrapper,
.gutenberg-content {
  // Image block
  .wp-block-image {
    display: block;
    margin-bottom: var(--margin-wp-block-image);
    margin-top: var(--margin-wp-block-image);

    &.alignwide,
    &.alignfull {
      padding-left: 0;
      padding-right: 0;
    }

    .alignwide img,
    .alignfull img {
      width: 100%;
    }

    > figure {
      display: block;
      width: auto;

      &.alignleft,
      &.alignright {
        // Hack for keeping figcaption from flowing over floated image, this variable is set inline to the corresponding figure with gutenberg-helpers.js
        /* stylelint-disable csstools/value-no-unknown-custom-properties */
        max-width: var(--child-img-width);
        /* stylelint-enable */
      }
    }

    figcaption {
      margin-bottom: 2rem;
    }

    @media (max-width: $container-mobile) {
      float: none;
      margin: 0;

      // Has to be important because we want to override inline width
      /* stylelint-disable declaration-no-important */
      width: 100% !important;
      /* stylelint-enable */
    }

    @media (max-width: $container-mobile) {
      &.alignleft img,
      &.alignright img,
      &.aligncenter img {
        float: none;
        height: auto;
        width: 100%;
      }
    }

    .aligncenter {
      text-align: center;
    }

    .aligncenter img {
      margin-left: auto;
      margin-right: auto;
    }
  }
}
